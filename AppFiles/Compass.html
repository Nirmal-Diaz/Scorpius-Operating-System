<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" style="height:100%;width:100%;padding:0;overflow: hidden;">

<head>
    <title id="title">Compass</title>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="AppStyleSheets/SerketAppPlatform_StyleVariables.css">
    <link rel="stylesheet" href="AppStyleSheets/SerketAppPlatform_Styles.css">

    <script src="AppScripts/SerketAppPlatform_FunctionsLibrary.js"></script>

    <style>
        .body {
            grid-template-columns: 100%;
            grid-template-rows: 100%;

            grid-template-areas: 
                "panel"
            ;
        }

        .panelArea {
            background-color: var(--panelDivisionBackgroundColor);
        }

        .compassFrame {
            height: 100%;
            width: 100%;

            background-image: url("ImageRes/Compass_Face.png");
            background-size: contain;
            background-position: center center;
            background-repeat: no-repeat;
        }
    </style>

    <script>
        function initialize() {
            //Add eventListener for rotate compassFrame with deviceOrientation
            window.addEventListener("deviceorientation", function (eventDetails) {
                //Get the device's rotatedAngle
                const rotatedAngle = Math.floor(eventDetails.alpha * 100) / 100;
                //Rotate compassFrame according to the rotatedAngle
                document.getElementById("compassFrame").style.transform = "rotate(" + rotatedAngle + "deg)";
            });
        }
    </script>
</head>

<body class="body" onload="initialize();">
    <!-- panelArea -->
    <div id="panelArea" class="panelArea">
        <div id="compassFrame" class="compassFrame">

        </div>
    </div>

    <!-- Content of the quickAccessArea -->
    <div id="quickAccessArea" class="quickAccessArea" style="display: none;">
        <span id="dataCarrier" data-window-index="" data-height="400px" data-width="400px" data-resizable="false"></span>
        <div class="quickAccessBar">

        </div>
        <div class="startButton" onclick="parseInnerScript('pauseAll');">
            <span>(None)</span>
        </div>
        <div class="quickAccessBar">
            <span onclick="parseInnerScript('refreshWindow');">Refresh</span>
            <span onclick="parseOuterScript('closeWindow');">Close</span>
        </div>
    </div>
</body>

</html>